<!DOCTYPE html>
<html lang="ta">
<head>
    <meta charset="UTF-8">
    <title>AI Multi-Tool - Support Large Text</title>
    <style>
        body { font-family: 'Segoe UI', sans-serif; text-align: center; background: #f0f2f5; padding: 20px; }
        .card { background: white; padding: 25px; border-radius: 12px; max-width: 600px; margin: auto; box-shadow: 0 10px 25px rgba(0,0,0,0.1); }
        textarea, input { width: 95%; margin: 10px 0; padding: 12px; border-radius: 8px; border: 1px solid #ddd; font-size: 16px; }
        
        .btn-group { display: flex; gap: 10px; margin-top: 10px; }
        button { flex: 1; padding: 12px; cursor: pointer; border: none; border-radius: 8px; color: white; font-weight: bold; transition: 0.3s; }
        
        .btn-translate { background: #28a745; }
        .btn-translate:hover { background: #218838; }
        .btn-ask { background: #007bff; }
        .btn-ask:hover { background: #0069d9; }

        /* à®ªà¯†à®°à®¿à®¯ à®‰à®°à¯ˆà®•à®³à¯à®•à¯à®•à®¾à®© à®…à®µà¯à®Ÿà¯à®ªà¯à®Ÿà¯ à®šà¯†à®Ÿà¯à®Ÿà®¿à®™à¯à®¸à¯ */
        #output { 
            margin-top: 20px; 
            padding: 20px; 
            background: #ffffff; 
            border-radius: 8px; 
            text-align: left; 
            border: 1px solid #eee;
            max-height: 450px; 
            overflow-y: auto; 
            white-space: pre-wrap; 
            word-wrap: break-word;
            box-shadow: inset 0 2px 4px rgba(0,0,0,0.05);
            line-height: 1.6;
        }
        .copy-btn { background: #6c757d; width: auto; padding: 5px 15px; margin-bottom: 10px; }
    </style>
</head>
<body>

<div class="card">
    <h2>ğŸ¤– AI Multi-Tool</h2>
    <input type="text" id="ngrokUrl" placeholder="Paste Ngrok URL here (e.g., https://...ngrok-free.app)">
    <textarea id="userInput" rows="5" placeholder="Type your text or question here..."></textarea>
    
    <div class="btn-group">
        <button class="btn-translate" onclick="callApi('translate')">Translate to Tamil</button>
        <button class="btn-ask" onclick="callApi('ask')">Ask AI Details</button>
    </div>

    <div style="text-align: right; margin-top: 15px;">
        <button class="copy-btn" onclick="copyText()">Copy Response</button>
    </div>
    
    <div id="output">
        <p id="responseText" style="color: #555;">Waiting for your input...</p>
    </div>
</div>

<script>
    async function callApi(mode) {
        const text = document.getElementById('userInput').value;
        const baseUrl = document.getElementById('ngrokUrl').value;
        const display = document.getElementById('responseText');

        if (!baseUrl || !text) { 
            alert("Please provide both Ngrok URL and text!"); 
            return; 
        }

        display.innerText = "Processing... Please wait.";
        display.style.color = "#888";

        const cleanUrl = baseUrl.endsWith('/') ? baseUrl.slice(0, -1) : baseUrl;

        try {
            const response = await fetch(`${cleanUrl}/${mode}`, {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ text: text })
            });
            const data = await response.json();
            
            // à®…à®µà¯à®Ÿà¯à®ªà¯à®Ÿà¯ à®µà®¨à¯à®¤à®µà¯à®Ÿà®©à¯ à®•à®²à®°à¯ˆ à®®à®¾à®±à¯à®±à®¿ à®‰à®°à¯ˆà®¯à¯ˆ à®šà¯†à®Ÿà¯ à®šà¯†à®¯à¯à®•à®¿à®±à¯‹à®®à¯
            display.style.color = "#333";
            display.innerText = data.result || "No response from AI.";
            
        } catch (err) {
            display.innerText = "Error: Could not connect to the server. Check your Ngrok URL.";
            display.style.color = "red";
        }
    }

    function copyText() {
        const text = document.getElementById('responseText').innerText;
        if(text === "Waiting for your input..." || text === "Processing...") return;
        
        navigator.clipboard.writeText(text).then(() => {
            alert("Copied to clipboard!");
        });
    }
</script>

</body>
</html>
